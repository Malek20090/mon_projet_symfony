{# templates/base.html.twig #}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Decide$ | Income & Expense Module{% endblock %}</title>

    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>ðŸ’°</text></svg>">

    {# âœ… Safe favicon #}
    <link rel="icon"
          href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 128 128'%3E%3Ctext y='1.2em' font-size='96'%3E%F0%9F%92%B0%3C/text%3E%3C/svg%3E">

    {# Google Fonts #}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700;800&display=swap" rel="stylesheet">

    {# Font Awesome (use ONE version) #}
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
          crossorigin="anonymous" referrerpolicy="no-referrer">

    {# Bootstrap CSS (use ONE) #}
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          crossorigin="anonymous">

    {# Your global css #}
    <link rel="stylesheet" href="{{ asset('css/all.min.css') }}">
    <link rel="stylesheet" href="{{ asset('css/style.css') }}">
    <link rel="stylesheet" href="{{ asset('css/dark-mode.css') }}">

    {# Optional animate css (since you use wow/fadeIn) #}
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">

    {# Page extra styles #}
    {% block stylesheets %}
        <style>
            body { font-family: 'Open Sans', sans-serif; }
            h1, h2, h3, h4, h5 { font-weight: 700; }

            .service-item { background: #fff; box-shadow: 0 0 25px rgba(0,0,0,.08); }
            .service-item:hover { box-shadow: none !important; transform: none !important; background: #fff !important; }
            .service-item:focus, .service-item:focus-within, .service-item:active { outline: none !important; box-shadow: none !important; background: #fff !important; }
            .service-item::before, .service-item::after { content: none !important; display: none !important; }
            .service-item *:focus, .service-item *:active, .service-item *:focus-visible { outline: none !important; box-shadow: none !important; }
            .service-item .btn:focus, .service-item .btn:active, .service-item .btn:focus-visible { outline: none !important; box-shadow: none !important; }

            .bg-breadcrumb { background: linear-gradient(135deg, #0d6efd 0%, #0a58ca 100%); }
            .footer { background: #0d6efd; }
            .copyright { background: #0a58ca; }
        </style>
    {% endblock %}
</head>

<body class="{% block body_class %}{% endblock %}">

{% block navbar %}
<!-- Navbar -->
<div class="container-fluid position-relative p-0">
    <nav class="navbar navbar-expand-lg navbar-light px-4 px-lg-5 py-3 py-lg-0 bg-white shadow-sm">
        <a href="{{ path('app_salary_expense_index') }}" class="navbar-brand d-flex align-items-center">
            <i class="fas fa-wallet text-primary me-2" style="font-size: 32px;"></i>
            <h1 class="text-primary m-0 fw-bold">Decide<span class="text-dark">$</span></h1>
        </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
            <span class="fa fa-bars"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav ms-auto py-0">
                <a href="{{ path('app_salary_expense_index') }}" class="nav-item nav-link {{ app.request.attributes.get('_route') == 'app_salary_expense_index' ? 'active' : '' }}">Home</a>
                <a href="{{ path('app_about') }}" class="nav-item nav-link {{ app.request.attributes.get('_route') == 'app_about' ? 'active' : '' }}">About</a>
                <a href="{{ path('app_service') }}" class="nav-item nav-link {{ app.request.attributes.get('_route') == 'app_service' ? 'active' : '' }}">Service</a>
                <a href="{{ path('app_contact') }}" class="nav-item nav-link {{ app.request.attributes.get('_route') == 'app_contact' ? 'active' : '' }}">Contact</a>
                <a href="{{ path('app_transaction_index') }}" class="nav-item nav-link">Transactions</a>
                <a href "{{ path('app_user_index') }}" class="nav-item nav-link">Users</a>
            </div>

            <div class="d-none d-xl-flex me-3">
                <div class="d-flex flex-column pe-3 border-end border-primary">
                    <span class="text-body">Finance personnelle</span>
                    <span class="text-primary">Management of revenus</span>
                </div>
            </div>

    {# âœ… SAVINGS LINK #}
    <a href="{{ path('app_savings') }}"
       class="nav-item nav-link {{ app.request.attributes.get('_route') starts with 'app_savings' ? 'active' : '' }}">
        Savings
    </a>

    <a href="{{ path('app_transaction_index') }}" class="nav-item nav-link">Transactions</a>
    <a href="{{ path('app_user_index') }}" class="nav-item nav-link">Users</a>
</div>
            <a href="{{ path('app_register') }}" class="btn btn-primary rounded-pill d-inline-flex flex-shrink-0 py-2 px-4">
                Register
            </a>
        </div>
    </nav>
</div>
{% endblock %}

{# Page content #}
{% block body %}{% endblock %}

<!-- JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js"></script>
<script src="{{ asset('js/theme-toggle.js') }}"></script>
<script>
    if (typeof WOW !== 'undefined') {
        new WOW().init();
    }
    // Validation HTML5 pour tous les formulaires (front)
    (function () {
        'use strict';
        window.addEventListener('load', function () {
            var forms = document.getElementsByTagName('form');
            Array.prototype.forEach.call(forms, function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        }, false);
    })();
</script>

{% block javascripts %}{% endblock %}
</body>
</html>


