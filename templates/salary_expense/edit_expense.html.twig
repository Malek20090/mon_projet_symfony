{% extends 'base_pages.html.twig' %}

{% block title %}Edit expense | Decide${% endblock %}

{% block body_class %}savings-page{% endblock %}

{% block stylesheets %}
  {{ parent() }}
  <link rel="stylesheet" href="{{ asset('css/decides-savings.css') }}?v=1000">
{% endblock %}

{% block body %}

<section class="hero">
  <div class="wrap container text-center">
    <h1>Edit expense #{{ expense.id }}</h1>
    <p>Information update</p>
  </div>
</section>

<section class="savings-zone">
  <div class="container">
    <div class="section-title">
      <div class="kicker">EXPENSE</div>
      <h2>Edit expense</h2>
    </div>
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="stat-card p-4">
          {{ form_start(form, { 'attr': { 'class': '' } }) }}
            <div class="mb-3">{{ form_row(form.amount, { 'attr': { 'class': 'form-control' }, 'label': 'Montant (TND)' }) }}</div>
            <div class="mb-3">{{ form_row(form.category, { 'attr': { 'class': 'form-select' } }) }}</div>
            <div class="mb-3">{{ form_row(form.expenseDate, { 'attr': { 'class': 'form-control' }, 'label': 'Date' }) }}</div>
            <div class="mb-3">{{ form_row(form.description, { 'attr': { 'class': 'form-control' }, 'required': false }) }}</div>
            <div class="mb-3">{{ form_row(form.revenue, { 'attr': { 'class': 'form-select' } }) }}</div>
            <button type="submit" class="btn-primary2"><i class="fas fa-save me-2"></i>Update</button>
          {{ form_end(form) }}
        </div>
        <div class="mt-3">
          <a href="{{ path('app_salary_expense_index') }}" class="tab-pill" style="display:inline-flex;text-decoration:none;"><i class="fa-solid fa-arrow-left me-2"></i>Back</a>
        </div>
      </div>
    </div>
  </div>
</section>

<footer class="footer">
  <div class="footer-top"><div class="container"><div class="footer-grid mt-20"><div><h4>Decide$</h4><p class="footer-text">Income & Expense module.</p></div></div></div></div>
  <div class="footer-bottom">© {{ "now"|date("Y") }} Decide$ — All rights reserved.</div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const btn = document.getElementById('nightBtn');
  if (!btn) return;
  if (localStorage.getItem('decides_night') === '1') document.body.classList.add('night');
  function sync() {
    const isNight = document.body.classList.contains('night');
    btn.querySelector('span').textContent = isNight ? 'Day' : 'Night';
    btn.querySelector('i').className = isNight ? 'fa-solid fa-sun' : 'fa-solid fa-moon';
  }
  sync();
  btn.addEventListener('click', function () { document.body.classList.toggle('night'); localStorage.setItem('decides_night', document.body.classList.contains('night') ? '1' : '0'); sync(); });
});
</script>
{% endblock %}


