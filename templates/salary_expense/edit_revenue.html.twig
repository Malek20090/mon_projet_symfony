{% extends 'base_savings.html.twig' %}

{% block title %}Modifier le revenu | Decide${% endblock %}

{% block body_class %}savings-page{% endblock %}

{% block stylesheets %}
  <link rel="stylesheet" href="{{ asset('css/decides-savings.css') }}?v=1000">
{% endblock %}

{% block body %}

<header class="topbar" id="top">
  <div class="container-fluid topbar-inner">
    <div class="topbar-row topbar-grid">
      <div class="brand">
        <a href="{{ path('app_salary_expense_index') }}" style="color:inherit;text-decoration:none;">
          <i class="fa-solid fa-wallet"></i><span>Decide</span><span>$</span>
        </a>
      </div>
      <nav class="nav-links">
        <a href="{{ path('app_salary_expense_index') }}">Home</a>
        <a href="{{ path('app_about') }}">About</a>
        <a href="{{ path('app_service') }}">Service</a>
        <a href="{{ path('app_contact') }}">Contact</a>
      </nav>
      <div class="right-info">
        <div class="text-end topbar-text"><div>Finance personnelle</div><b>Gestion des revenus</b></div>
        <button id="nightBtn" class="pill-btn night-toggle" type="button"><i class="fa-solid fa-moon"></i><span>Night</span></button>
        <a class="pill-btn back-btn" href="{{ path('app_salary_expense_index') }}"><i class="fa-solid fa-arrow-left"></i> back</a>
      </div>
    </div>
  </div>
</header>

<section class="hero">
  <div class="wrap container text-center">
    <h1>Modifier le revenu #{{ revenue.id }}</h1>
    <p>Mise à jour des informations</p>
  </div>
</section>

<section class="savings-zone">
  <div class="container">
    <div class="section-title">
      <div class="kicker">REVENU</div>
      <h2>Modifier le revenu</h2>
    </div>
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="stat-card p-4">
          {{ form_start(form, { 'attr': { 'class': '' } }) }}
            <div class="mb-3">{{ form_row(form.amount, { 'attr': { 'class': 'form-control' }, 'label': 'Montant (TND)' }) }}</div>
            <div class="mb-3">{{ form_row(form.type, { 'attr': { 'class': 'form-select' } }) }}</div>
            <div class="mb-3">{{ form_row(form.receivedAt, { 'attr': { 'class': 'form-control' }, 'label': 'Date de réception' }) }}</div>
            <div class="mb-3">{{ form_row(form.description, { 'attr': { 'class': 'form-control' }, 'required': false }) }}</div>
            <div class="mb-3">{{ form_row(form.user, { 'attr': { 'class': 'form-select' } }) }}</div>
            <button type="submit" class="btn-primary2"><i class="fas fa-save me-2"></i>Mettre à jour</button>
          {{ form_end(form) }}
        </div>
        <div class="mt-3">
          <a href="{{ path('app_salary_expense_index') }}" class="tab-pill" style="display:inline-flex;text-decoration:none;"><i class="fa-solid fa-arrow-left me-2"></i>Retour</a>
        </div>
      </div>
    </div>
  </div>
</section>

<footer class="footer">
  <div class="footer-top"><div class="container"><div class="footer-grid mt-20"><div><h4>Decide$</h4><p class="footer-text">Revenu & Expense module.</p></div></div></div></div>
  <div class="footer-bottom">© {{ "now"|date("Y") }} Decide$ — All rights reserved.</div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const btn = document.getElementById('nightBtn');
  if (!btn) return;
  if (localStorage.getItem('decides_night') === '1') document.body.classList.add('night');
  function sync() {
    const isNight = document.body.classList.contains('night');
    btn.querySelector('span').textContent = isNight ? 'Day' : 'Night';
    btn.querySelector('i').className = isNight ? 'fa-solid fa-sun' : 'fa-solid fa-moon';
  }
  sync();
  btn.addEventListener('click', function () { document.body.classList.toggle('night'); localStorage.setItem('decides_night', document.body.classList.contains('night') ? '1' : '0'); sync(); });
});
</script>
{% endblock %}
